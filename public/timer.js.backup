var output = document.getElementById('output');
var type = document.getElementById('type');

function countdownCall(num) {

    breakType(num); // call to display what type of break
    var sixty = 0;
    var myInterval = setInterval(function() {
	countdownReturn = countdown(num, sixty);
	sixty -= 1;
	if (countdownReturn) {
	    num -= 1;
	    sixty = 59;
	    if (num==-1) {
		clearInterval(myInterval);
	   }
	}
    }, 1000);
}


function countdown(num, sixty) {
    var d = new Date();
    second = (59-d.getSeconds());
    
    // check if second < 10, so a zero can be added to the display
    if (sixty<10) {
	output.innerHTML =  num + ":0" + sixty;
    }
    else {
	output.innerHTML =  num + ":" + sixty;
    }

    // check for zero seconds to update minute (AKA num)
    if (sixty == 0) {
	return true;
    }
    else {
	return false;
    }
}


// Reload page to clear timer. A bit of a hack but it works
function clearTimer() {
    window.location.reload();
}


function breakType(num) {
    if (num>15) {
	type.innerHTML = "on Lunch.";
    }
    else {
	type.innerHTML = "on a " + num + " minute break.";
    }
}
